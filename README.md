# Python Program to Generate Structured HTML Articles with Images

## Description

This Python script automates the process of taking an article, structuring it with appropriate HTML tags, and generating images based on descriptive prompts. The article content is processed using OpenAI’s GPT-4, which structures the text into HTML and provides image prompts. The script then uses OpenAI’s Image Generation API to create the images based on these prompts and embeds them into the HTML.

### How It Works:

1. **Reads the API Key:**
   The program starts by reading the OpenAI API key from a file (`key_file`). This key is required to authenticate with the OpenAI API.

2. **Reads the Article:**
   The article content is read from a text file (`input_file`). This file should contain the raw text of the article that you want to structure.

3. **Sends a Prompt to OpenAI:**
   The program sends the article text to OpenAI’s GPT-4 model with a custom prompt. The prompt instructs GPT-4 to structure the text using HTML tags and suggest image prompts for each section that should contain images. The image prompts are added to the `alt` attributes of `<img>` tags in the HTML.

4. **Generates Images Based on Prompts:**
   The program then parses the HTML output generated by GPT-4, extracts the `alt` text from each `<img>` tag, and sends it to OpenAI's Image Generation API to create images based on the description. The generated image URLs are inserted into the `src` attribute of the respective `<img>` tags.

5. **Saves the Generated Article:**
   The structured HTML, now containing the images, is saved to a file (`article_file`).

6. **Merges with a Template:**
   The program also reads an HTML template (`template_file`) and merges its `<body>` with the existing content of the newly generated HTML article. This final result is saved as (`output_file`).

7. **Final Output:**
   The output is a complete HTML file that combines the article content, images, and a template structure.

---

## Requirements

To run the program, you'll need the following:

1. **Python 3.x** installed on your system.
2. **OpenAI Python SDK**: Install it using `pip`:
   ```bash
   pip install openai
3. **BeatifulSoup4 Library**: Also install it using `pip`:
   ```bash
   pip install beautifulsoup4
4. **A valid OpenAI API Key.**

## How to launch

To launch the program you need to either **have the .txt and .html files** in the same directory as the Python script or **change the path** of the files using the global variables. Also make sure to change the filenames to match your own preferences.